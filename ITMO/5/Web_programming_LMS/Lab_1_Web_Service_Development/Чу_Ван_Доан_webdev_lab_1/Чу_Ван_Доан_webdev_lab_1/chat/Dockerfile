# Используем образ Python версии 3.8 в качестве базового
FROM python:3.8

# Устанавливаем рабочую директорию внутри контейнера как /app
WORKDIR /app

# Копируем файл requirements.txt с локальной машины в рабочую директорию контейнера
COPY requirements.txt .

# Устанавливаем зависимости из requirements.txt без сохранения кеша
RUN pip install --no-cache-dir -r requirements.txt

# Копируем весь проект из локальной директории в рабочую директорию контейнера
COPY . .

# Указываем команду для запуска контейнера:
# - Запуск uvicorn для выполнения приложения FastAPI
# - "app.main:app" указывает путь к приложению FastAPI (app — это модуль, app — объект приложения FastAPI)
# - --host "0.0.0.0" позволяет принимать подключения с любых IP-адресов
# - --port "8001" устанавливает порт для запуска приложения
CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8001"]

